<div class="checkout">
  <!-- TODO: Change this form to singup form and here show the resume -->
  <form [formGroup]="checkoutFormGroup">
    <div class="form-title">
      <h2>Payment Form</h2>
    </div>
    <div formGroupName="customer" class="account-area">
      <h4>Account</h4>
      <div class="row">
        <div class="form-floating col-6">
          <input formControlName="firstName" type="text" class="form-control" id="floatingInput" placeholder="First Name">
          <label for="floatingInput">First Name</label>
        </div>
        <div class="form-floating col-6">
          <input formControlName="lastName" type="text" class="form-control" id="floatingInput" placeholder="Last Name">
          <label for="floatingInput">Last Name</label>
        </div>
      </div>
      <div class="row">
        <div class="form-floating mb-3">
          <input formControlName="email" type="email" class="form-control" id="floatingInput" placeholder="name@example.com">
          <label for="floatingInput">Email</label>
        </div>
      </div>
    </div>

    <div formGroupName="shipping" class="shipping-address">
      <h4>Shipping {{ !sameBillingShippings ? 'and Billing' : '' }} Address</h4>
      <div class="row">
        <div class="form-floating col-6">
          <input formControlName="zipCode" type="text" class="form-control" id="floatingInput" placeholder="ZIP Code">
          <label for="floatingInput">ZIP Code</label>
        </div>
      </div>
      <div class="row">
        <div class="form-floating col-7">
          <select (change)="getStates('shipping')" formControlName="country" class="form-select" id="floatingSelect" aria-label="Floating label select example" >
            <option *ngFor="let country of countries" [ngValue]="country">
              {{ country.name }}
            </option>
          </select>
          <label for="floatingInput">Country</label>
        </div>
      </div>
      <div class="row">
        <div class="form-floating col-7">
          <select formControlName="state" class="form-select" id="floatingSelect" aria-label="Floating label select example" >
            <option *ngFor="let state of shippingStates" [ngValue]="state">
              {{ state.name }}
            </option>
          </select>
          <label for="floatingInput">State</label>
        </div>
      </div>
      <div class="row">
        <div class="form-floating col-7">
          <input formControlName="city" type="text" class="form-control" id="floatingInput" placeholder="City">
          <label for="floatingInput">City</label>
        </div>
      </div>
      <div class="row">
        <div class="form-floating mb-3">
          <input formControlName="street" type="text" class="form-control" id="floatingInput" placeholder="Street">
          <label for="floatingInput">Street</label>
        </div>
      </div>
    </div>

    <div class="input-space">
      <div class="form-check form-switch">
        <input class="form-check-input" type="checkbox" (change)="copyShippingToBillingAddress($event)" role="switch" id="flexSwitchCheckDefault">
        <label class="form-check-label" for="flexSwitchCheckDefault">Use the same Address for billing (check this only if you have completed the fields above)!</label>
      </div>
    </div>

    <div formGroupName="billing" class="shipping-address" [ngClass]="sameBillingShippings ? 'show' : 'hidden'">
      <h4>Billing Address</h4>
      <div class="row">
        <div class="form-floating col-6">
          <input formControlName="zipCode" type="text" class="form-control" id="floatingInput" placeholder="ZIP Code">
          <label for="floatingInput">ZIP Code</label>
        </div>
      </div>
      <div class="row">
        <div class="form-floating col-7">
         <select (change)="getStates('billing')" formControlName="country" class="form-select" id="floatingSelect" aria-label="Floating label select example" >
            <option *ngFor="let country of countries" [ngValue]="country">
              {{ country.name }}
            </option>
          </select>
          <label for="floatingInput">Country</label>
        </div>
      </div>
      <div class="row">
        <div class="form-floating col-7">
          <select formControlName="state" class="form-select" id="floatingSelect" aria-label="Floating label select example" >
            <option *ngFor="let state of billingStates" [ngValue]="state">
              {{ state.name }}
            </option>
          </select>
          <label for="floatingInput">State</label>
        </div>
      </div>
      <div class="row">
        <div class="form-floating col-7">
          <input formControlName="city" type="text" class="form-control" id="floatingInput" placeholder="City">
          <label for="floatingInput">City</label>
        </div>
      </div>
      <div class="row">
        <div class="form-floating mb-3">
          <input formControlName="street" type="text" class="form-control" id="floatingInput" placeholder="Street">
          <label for="floatingInput">Street</label>
        </div>
      </div>
    </div>

    <div formGroupName="payment" class="payment-area">
      <h4>Payment Details</h4>
      <div class="row">
        <div class="form-floating mb-3">
          <input formControlName="cardName" type="text" class="form-control" id="floatingInput" placeholder="Card Name">
          <label for="floatingInput">Name on Card</label>
        </div>
      </div>
      <div class="row">
        <div class="form-floating mb-3">
          <input formControlName="cardNumber" type="text" class="form-control" id="floatingInput" placeholder="xxxx-xxxx-xxxx-xxxx">
          <label for="floatingInput">Card Number</label>
        </div>
      </div>
      <div class="row">
        <div class="form-floating col-4">
          <input formControlName="cvc" type="text" class="form-control" id="floatingInput" placeholder="xxx">
          <label for="floatingInput">CVC</label>
        </div>
        <div class="form-floating col-4">
          <select formControlName="expMonth" class="form-select" id="floatingSelect" aria-label="Floating label select example" >
            <option *ngFor="let month of creditCardMonths">
              {{ month }}
            </option>
          </select>
          <label for="floatingSelect">Month</label>
        </div>
        <div class="form-floating col-4">
          <select (change)="handleMonthsAndYears()" formControlName="expYear" class="form-select" id="floatingSelect" aria-label="Floating label select example" >
            <option *ngFor="let year of creditCardYears">
              {{ year }}
            </option>
          </select>
          <label for="floatingSelect">Year</label>
        </div>
      </div>
    </div>
    <div class="text-center">
      <button (click)="onSubmit()" class="btn btn-primary col-5">Submit</button>
    </div>
  </form>
</div>

